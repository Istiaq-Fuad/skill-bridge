# Database configuration using Neon PostgreSQL environment variables
spring.datasource.url=${DATABASE_URL}
spring.datasource.username=${PGUSER}
spring.datasource.password=${PGPASSWORD}
spring.datasource.driver-class-name=org.postgresql.Driver

# JPA/Hibernate configuration
spring.jpa.hibernate.ddl-auto=${SPRING_JPA_HIBERNATE_DDL_AUTO:update}
spring.jpa.database-platform=org.hibernate.dialect.PostgreSQLDialect
spring.jpa.show-sql=${SPRING_JPA_SHOW_SQL:false}
spring.jpa.properties.hibernate.format_sql=${SPRING_JPA_FORMAT_SQL:true}

# Server configuration
server.port=${SERVER_PORT:8080}

# CORS configuration for frontend
cors.allowed-origins=${CORS_ALLOWED_ORIGINS:http://localhost:3000}

# JWT configuration

jwt.secret=${JWT_SECRET:mySecureKeyForSkillBridgeThatIsAtLeast32CharactersLong}
jwt.expiration=${JWT_EXPIRATION:86400}

# Mistral AI Configuration
mistral.api.token=${MISTRAL_API_TOKEN:}
mistral.model.name=${MISTRAL_MODEL_NAME:mistral-tiny}
mistral.api.base-url=${MISTRAL_API_BASE_URL:https://api.mistral.ai}
mistral.api.timeout=${MISTRAL_API_TIMEOUT:30000}

# Document Processing Configuration
document.upload.max-file-size=${DOCUMENT_MAX_SIZE:10MB}
document.upload.max-request-size=${DOCUMENT_MAX_REQUEST_SIZE:10MB}
document.processing.temp-dir=${DOCUMENT_TEMP_DIR:/tmp/skillbridge}
document.supported-formats=${DOCUMENT_SUPPORTED_FORMATS:pdf,doc,docx,txt}

# AI Service Configuration
ai.service.retry-attempts=${AI_RETRY_ATTEMPTS:3}
ai.service.retry-delay=${AI_RETRY_DELAY:1000}
ai.service.max-tokens=${AI_MAX_TOKENS:4000}
ai.service.temperature=${AI_TEMPERATURE:0.7}

# Advanced Matching Configuration
matching.similarity-threshold=${MATCHING_SIMILARITY_THRESHOLD:0.6}
matching.max-candidates=${MATCHING_MAX_CANDIDATES:50}
matching.skill-weight=${MATCHING_SKILL_WEIGHT:0.4}
matching.experience-weight=${MATCHING_EXPERIENCE_WEIGHT:0.3}
matching.location-weight=${MATCHING_LOCATION_WEIGHT:0.2}
matching.education-weight=${MATCHING_EDUCATION_WEIGHT:0.1}

# Cache Configuration
spring.cache.type=simple
spring.cache.cache-names=aiResponses,jobMatches,userProfiles
spring.cache.caffeine.spec=maximumSize=1000,expireAfterWrite=30m

# Logging Configuration
logging.level.org.jobai.skillbridge=INFO
logging.level.org.jobai.skillbridge.service.MistralAiService=DEBUG
logging.level.org.springframework.security=DEBUG
logging.pattern.console=%d{yyyy-MM-dd HH:mm:ss} - %msg%n
